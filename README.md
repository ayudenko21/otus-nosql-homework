# Домашняя работа по лекции 02

**CAP Теорема**

1. *MongoDB*  
CP система по CAP-теореме. Архитектура системы подразумевает наличие  
master и slave нод, при этом все запросы на запись идут на master ноды,  
запросы на чтение так же по умолчанию обрабатываются master нодами. После  
записи данные автоматически реплицируются на все slave ноды. Т.к. master нода  
отвечает как за запись, так и за чтение, то можно сказать, что система обладает  
качеством Partition Tolerance. После успешной записи данных на master ноду и  
дальнейшей репликации на slave ноды все запросы на чтение будут возвращать  
одинаковые и актуальные данные, что означает наличие качества Consistency.  
Consistency и Partition Tolerance обеспечиваются за счет Availability, т.к.  
при недоступности master ноды система целиком теряет доступность до выбора новой master ноды.

2. *MSSQL*  
CA система по CAP-теореме. Обычно реляционные СУБД поддерживают ACID транзакции, что делает  
данные соответствующими критерию Consistent и одновременно они Available. Т.к. реляционные СУБД  
обычно состоят из одной ноды, то качество Partition Tolerance к ним не применимо. Если для реляционной  
СУБД собирается master-slave кластер, то система может быть так же и CP системой по аналогии с MongoDB.


3. *Cassandra*  
AP система по CAP-теореме. Архитектура системы подразумевает,  
что все ноды системы равноправны и данные равномерно распределяются по  
всем нодам. Равноправие нод обеспечивает качество Partition Tolerance,  
т.к. при нарушении связи между нодами они по-прежнему могут поддерживать  
работоспособность системы. Т.к. все ноды равноправны и способны выполнять  
любые запросы, то это гарантирует качество Availability, но это происходит  
за счет Consistency, т.к. не гарантируется согласование данных между нодами.
